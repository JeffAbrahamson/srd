srd is a secure rolodesk, which is a bit of a retro name for an
encrypted set of notes.  In modern parlance, it might be called a
password vault, but the idea is to be able to write and retrieve
arbitrary bits of text.

srd is being developed on an ubuntu linux system.  There's no real
reason to suspect it wouldn't work elsewhere, but that hasn't been
tested.

There's a library (pending issue #12) if you want to use the code in
another context with minimal hacking.


Want to use it?

I believe the code works.  There are reasonably extensive regtests
that convince me of this.  Send me mail with feedback.


Why did I write this?

I wrote a short python script once upon a time to do something
similar.  I developed a bunch of features I wanted to add.  It became
a rewrite.  As an exercise, I decided to see how much longer it would
take to write it in C++ rather than python.  (Answer:  about five times
longer.)  And it amuses me.  And it pushes me to look at some new
libraries and language features that I don't get to use at work.

The other answer, since there's no shortage of password vaults out
there, is that (1) I wanted something that lives nicely on the
commandline, and (2) I wanted to understand the code so that I'm sure
it's doing what I want.  Those could probably both have been satisfied
more easily without writing code, but would have left me less happy.


Here's the usage message:

  srd <options> [key-match-pattern]

    Patterns for -m, -D, -d are comma-separated pattterns.
    Key-match-pattern, if present, is the same as specifying -m.

  Allowed options:

  General options:
    -h [ --help ]         Produce help message
    -v [ --verbose ]      Emit debugging information

  Actions (if none, then match):
    -e [ --edit ]         Edit record
    -x [ --delete ]       Delete the results of an (exact) key match.  
			  Conceptually -E -m arg, can be used with -mDd.
    -X [ --delete-all ]   Delete all matches.  Conceptually equivalent to -m arg,
			  can be used with -mDd.  If more than one match, will 
			  request confirmation.
    -p [ --passwd ]       Change password (no other options permitted)
    --create              Create database.  The database is identified by a hash 
			  of the password, so --create distinguishes between 
			  creating a new database and mistyping the password.
    --import arg          Import a text file.  The format is the same as that 
			  output by -f:  each line must either be "[KEY]" for key
			  KEY or else begin with two spaces of indent (which are 
			  disgarded during the input) for data (payload) portion 
			  associated with the most recent key line.

  Matching options:
    -m [ --match-key ] arg         Restrict to records whose keys match
    -D [ --match-data-or-key ] arg Consider key and data for match (i.e., logical
				   or)
    -d [ --match-data ] arg        Restrict to records whose data match
    -E [ --exact-match ]           Exact key match

  Display options:
    -k [ --keys-only ]     Display keys only (default true if multiple matches, 
			   false for single match)
    -f [ --full-display ]  Display full data (default true for single match, 
			   false for multiple matches)
    -g [ --grep ] arg      Output filter for data

  Test options (don't use outside regression tests):
    -T [ --TEST ] arg     Test mode, use local data directory, specify password 
			  on commandline
